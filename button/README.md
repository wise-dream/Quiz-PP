# ESP32-C3 Quiz Button

–§–∏–∑–∏—á–µ—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ –∫–≤–∏–∑–æ–≤ PowerPoint Quiz.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ `platformio.ini`

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ —Å–µ–∫—Ü–∏–∏ `[env:quiz_button_prod]`:

```ini
-D WIFI_SSID=\"YourWiFiName\"      # –ò–º—è Wi-Fi —Å–µ—Ç–∏
-D WIFI_PASS=\"YourPassword\"      # –ü–∞—Ä–æ–ª—å (–ø—É—Å—Ç–æ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–æ–π —Å–µ—Ç–∏)
-D SERVER_URL=\"https://server.com\" # URL —Å–µ—Ä–≤–µ—Ä–∞ –∫–≤–∏–∑–∞
-D BUTTON_ID=\"1\"                  # ID –∫–Ω–æ–ø–∫–∏ (–µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ)
-D BTN_PIN=9                        # GPIO –ø–∏–Ω –¥–ª—è –∫–Ω–æ–ø–∫–∏ (GPIO9 –Ω–∞ ESP32-C3)
```

### 2. –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pio pkg install

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∞
pio run -e quiz_button_prod -t upload

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Serial
pio device monitor
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –∫–Ω–æ–ø–∫—É –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∫–≤–∏–∑–∞
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–§–∏–∑–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏"
   - –ù–∞–∂–º–∏—Ç–µ "+" –∏ –≤–≤–µ–¥–∏—Ç–µ MAC –∞–¥—Ä–µ—Å –∫–Ω–æ–ø–∫–∏ (–≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ Serial –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

2. **–ü—Ä–∏–≤—è–∂–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∫ –∫–æ–º–∞–Ω–¥–µ:**
   - –í —Å–ø–∏—Å–∫–µ –∫–Ω–æ–ø–æ–∫ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –∏–∑ –≤—ã–ø–∞–¥–∞—é—â–µ–≥–æ —Å–ø–∏—Å–∫–∞
   - –ö–Ω–æ–ø–∫–∞ –±—É–¥–µ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥–µ

### –†–∞–±–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏

- **–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∫–Ω–æ–ø–∫–∏** - –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—Ä–µ–±–µ–∑–≥–∞** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª 500–º—Å –º–µ–∂–¥—É –Ω–∞–∂–∞—Ç–∏—è–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MAC –∞–¥—Ä–µ—Å–∞** - –∏–∑ Wi-Fi –º–æ–¥—É–ª—è ESP32

### –ö–æ–º–∞–Ω–¥—ã Serial

- `s` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–∂–∞—Ç–∏–µ –≤—Ä—É—á–Ω—É—é
- `r` - –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Wi-Fi
- `m` - –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (MAC, IP, —Å—Ç–∞—Ç—É—Å Wi-Fi)

## –§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞

–ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä:

```json
{
  "macAddress": "AA:BB:CC:DD:EE:FF",
  "buttonId": "1"
}
```

Endpoint: `POST /api/button/press`

## –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞

**–£—Å–ø–µ—Ö:**
```json
{
  "success": true,
  "message": "Button press processed successfully",
  "processed": true
}
```

**–ù–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ (–≤–æ–ø—Ä–æ—Å –Ω–µ –∞–∫—Ç–∏–≤–µ–Ω):**
```json
{
  "success": true,
  "message": "question not active in room ABCD",
  "processed": false
}
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
button/
‚îú‚îÄ‚îÄ platformio.ini      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PlatformIO
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ main.cpp        # –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ –∫–Ω–æ–ø–∫–∏
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- PlatformIO IDE –∏–ª–∏ CLI
- ESP32-C3 DevKit
- –§–∏–∑–∏—á–µ—Å–∫–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è GPIO9 (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–∏–Ω, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –∫–æ–Ω—Ñ–∏–≥–µ)

## Troubleshooting

**–ö–Ω–æ–ø–∫–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Wi-Fi
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ MAC –∞–¥—Ä–µ—Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL —Å–µ—Ä–≤–µ—Ä–∞ –≤ `platformio.ini`

**–û—à–∏–±–∫–∞ SSL/TLS:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `USE_TLS_INSECURE=1` –¥–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∞!)

**–ö–Ω–æ–ø–∫–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É GPIO –ø–∏–Ω—É
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Serial –º–æ–Ω–∏—Ç–æ—Ä–µ

## –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤

```
=== ESP32-C3 Quiz Button ===
Server URL: https://wise-dream.ru
Button ID: 1
MAC Address: AA:BB:CC:DD:EE:FF
Wi-Fi SSID: WiseDream
Wi-Fi —Ä–µ–∂–∏–º: OPEN (–±–µ–∑ –ø–∞—Ä–æ–ª—è)
Button pin: 9 (INPUT_PULLUP)

–ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ Wi-Fi...
Wi-Fi OK: IP=192.168.1.100 RSSI=-45 dBm

=== –ì–æ—Ç–æ–≤–æ ===
–ö–æ–º–∞–Ω–¥—ã:
  - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–∂–∞—Ç–∏—è
  - 's' –≤ Serial - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é
  - 'r' –≤ Serial - –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∏—Ç—å Wi-Fi
========================

[BUTTON] üî¥ –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ -> –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä...
[SEND] MAC: AA:BB:CC:DD:EE:FF, ButtonID: 1
[SEND] Endpoint: https://wise-dream.ru/api/button/press
[RESPONSE] HTTP Code: 200
[RESPONSE] Body: {"success":true,"message":"Button press processed successfully","processed":true}
[SUCCESS] ‚úÖ –ù–∞–∂–∞—Ç–∏–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ —É—Å–ø–µ—à–Ω–æ!
```

